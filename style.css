/* RÉINITIALISATION */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, "Helvetica Neue", Arial, sans-serif;
  background: #2f2f2f;
  color: white;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* (Suppression de la propriété expérimentale scrollbar-gutter à cause de comportements spécifiques aux plateformes.)
  Nous comptons sur le fallback JS pour ajouter padding-right lorsque nécessaire. */
html, body { height: 100%; }

/* Forcer une gouttière de scrollbar verticale persistante afin que la largeur
  de la fenêtre ne change pas lorsque nous verrouillons le scroll (évite les sauts horizontaux lors de l'ouverture des panneaux) */
html { overflow-y: scroll; }

/* Barre livraison */
.top-bar {
  background: #4a4a4a;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 13px;
  padding: 5px 0;
}

/* Messages rotatifs de la top-bar */
.topbar-rotator { position: relative; display: block; width: 100%; height: 24px; overflow: hidden; padding: 0 12px; max-width: 100%; }
.topbar-msg { position: absolute; left: 50%; top: 50%; transform: translate(-50%, 110%); opacity: 0; transition: opacity 360ms ease, transform 360ms ease; white-space: normal; text-align: center; width: 100%; }
.topbar-msg--visible { opacity: 1; transform: translate(-50%, -50%); }

@keyframes topbar-cycle {
  0% { opacity: 0; transform: translateY(6px); }
  5% { opacity: 1; transform: translateY(0); }
  45% { opacity: 1; transform: translateY(0); }
  50% { opacity: 0; transform: translateY(-6px); }
  100% { opacity: 0; transform: translateY(-6px); }
}

/* Quand JS est activé, utiliser une animation pour alterner les deux messages toutes les 8s */
/* Le JS contrôle la visibilité en basculant la classe .topbar-msg--visible sur les messages */

@media (prefers-reduced-motion: reduce) {
  .topbar-rotator .topbar-msg { transition: none !important; animation: none !important; opacity: 1 !important; position: static; transform: none !important; }
}

/* En-tête */
header {
  background: #1d1d1d;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 25px;
}

/* Rendre le header collant en haut lors du scroll */
header {
  position: sticky;
  top: 0;
  z-index: 180; /* au-dessus du contenu mais en dessous des overlays */
  width: 100%;
  backdrop-filter: none;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.menu {
  font-size: 22px;
  cursor: pointer;
}

/* Animation hover/focus du bouton menu pour correspondre au DA */
.menu {
  transition: transform 180ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease, background 180ms ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 10px;
}
.menu:focus {
  /* garder l'accessibilité clavier mais supprimer le focus visible */
  outline: none;
}
.menu:active {
  transform: translateY(-1px) scale(0.99);
  /* pas d'ombre prononcée pour éviter l'effet carré */
}

/* Si .menu est un bouton, réinitialiser les styles par défaut du bouton pour une apparence cohérente */
.menu[role="button"], .menu {
  background: transparent;
  border: none;
  color: inherit;
  padding: 0.2rem 0.4rem;
}

.logo {
  font-size: 32px;
  font-weight: bold;
  position: absolute; /* centrer le logo dans l'en-tête */
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 185; /* au-dessus des icônes mais en dessous des superpositions */
  pointer-events: auto;
}

/* Le logo reste blanc quand on clique dessus */
.logo a,
.logo a:visited,
.logo a:hover,
.logo a:active {
  color: white;
  text-decoration: none;
}

.icons {
  display: flex;
  gap: 12px;
  font-size: 20px;
  /* Assurer l'alignement vertical des icônes avec le bouton .menu */
  align-items: center;
  height: 44px; /* correspondre à la hauteur du bouton menu pour aligner les lignes de base */
  margin-left: auto; /* garder les icônes à droite */
  position: relative;
  z-index: 195; /* garder les icônes au-dessus de la superposition de recherche pour qu'elles restent visibles */
}

/* Barre de recherche inline placée dans .icons (remplace la loupe) */
.icons .search-bar {
  position: absolute;
  right: 120px; /* déplacé vers la gauche vers le centre de l'en-tête (était 56px) */
  top: 50%;
  /* correspondre exactement à l'état final de l'animation pour éviter un saut */
  transform: translate3d(0, -50%, 0) scaleX(1);
  overflow: hidden; /* découper les enfants pour que le texte disparaisse avec la barre */
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #141414;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,215,230,0.04);
  min-width: 360px;
  max-width: 700px;
  z-index: 999; /* au-dessus des icônes pour qu'elle se superpose proprement */
}
.icons .search-bar {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #141414;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,215,230,0.04);
  min-width: 360px;
  max-width: 700px;
}
.icons .search-bar input[type="search"] {
  border: none;
  outline: none;
  background: transparent;
  color: #fff;
  font-size: 14px;
  width: 420px; /* saisie plus large pour correspondre à la barre plus longue */
}
.icons .search-bar .icon-search { width: 18px; height: 18px; color: #ffd7e6; margin-left: 2px; }
.icons .search-bar .icon-search { display: none !important; }
.icons .search-bar #search-clear {
  visibility: visible !important;
  width: 36px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  background: transparent;
  border: none;
  position: absolute;
  left: 8px; /* placer à gauche à l'intérieur de la barre */
  top: 50%;
  transform: translateY(-50%);
  z-index: 1001;
  pointer-events: auto;
}

/* Transition croix -> loupe à l'intérieur du bouton d'effacement */
#search-clear { position: absolute; display: inline-flex; align-items: center; justify-content: center; }
#search-clear .search-clear__cross,
#search-clear .search-clear__loupe {
  position: absolute;
  inset: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  /* morphisme légèrement plus long et plus fluide pour l'échange croix <-> loupe */
  transition: opacity 320ms cubic-bezier(.16,.84,.24,1), transform 320ms cubic-bezier(.16,.84,.24,1);
  will-change: opacity, transform;
}
#search-clear .search-clear__loupe { opacity: 0; transform: scale(0.66) translateZ(0); }
#search-clear .search-clear__cross { opacity: 1; transform: scale(1) translateZ(0); }

/* Quand la barre se ferme, afficher la loupe et cacher la croix (échange visuel) */
.search-bar.search-closing #search-clear .search-clear__cross { opacity: 0; transform: scale(0.6); }
.search-bar.search-closing #search-clear .search-clear__loupe { opacity: 1; transform: scale(1); }

/* Quand la barre s'ouvre, s'assurer que la croix est visible et la loupe cachée */
.search-bar.search-opening #search-clear .search-clear__cross { opacity: 1; transform: scale(1); }
.search-bar.search-opening #search-clear .search-clear__loupe { opacity: 0; transform: scale(0.6); }
.icons .search-bar input[type="search"] {
  border: none;
  outline: none;
  background: transparent;
  color: #fff;
  font-size: 14px;
  width: 420px; /* saisie plus large pour correspondre à la barre plus longue */
  padding-left: 48px; /* laisser de l'espace pour le bouton d'effacement de gauche */
}

/* Animation de fermeture : scaleX de 1 -> 0, origine à droite pour la faire rétrécir de droite->gauche */
.search-bar.search-closing {
  transform-origin: right center;
  /* utiliser une transformation 3d pour encourager la composition GPU et une animation légèrement plus longue et douce */
  animation: search-shrink-right 420ms cubic-bezier(.16,.84,.24,1) forwards;
  background-color: #141414;
  will-change: transform, opacity, background-color;
  backface-visibility: hidden;
  /* indication au moteur de rendu : utiliser translateZ pour promouvoir vers sa propre couche */
  transform: translate3d(0, -50%, 0) scaleX(1);
}
@keyframes search-shrink-right {
  0% { transform: translate3d(0, -50%, 0) scaleX(1); opacity: 1; background-color: #141414; }
  70% { transform: translate3d(0, -48%, 0) scaleX(0.12); opacity: 0.7; background-color: #2a2a2a; box-shadow: 0 6px 18px rgba(0,0,0,0.28); }
  100% { transform: translate3d(0, -50%, 0) scaleX(0); opacity: 0; background-color: #1d1d1d; box-shadow: 0 2px 8px rgba(0,0,0,0.16); }
}

/* Quand masquée, la garder hors du flux */
.search-bar.hidden { display: none !important; visibility: hidden !important; }

/* Animation d'ouverture : scaleX 0 -> 1 depuis le bord droit (apparaître droite->gauche) */
.search-bar.search-opening {
  transform-origin: right center;
  animation: search-expand-right 420ms cubic-bezier(.16,.84,.24,1) forwards;
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform: translate3d(0, -50%, 0) scaleX(0);
}
@keyframes search-expand-right {
  0% { transform: translate3d(0, -52%, 0) scaleX(0); opacity: 0; box-shadow: 0 2px 8px rgba(0,0,0,0.12); }
  70% { transform: translate3d(0, -48%, 0) scaleX(1.06); opacity: 1; box-shadow: 0 10px 28px rgba(0,0,0,0.36); }
  100% { transform: translate3d(0, -50%, 0) scaleX(1); opacity: 1; box-shadow: 0 8px 24px rgba(0,0,0,0.45); }
}

/* Pendant les animations d'ouverture/fermeture du parent, désactiver les transitions sur les enfants textuels pour qu'ils disparaissent avec le parent */
.search-bar.search-opening *,
.search-bar.search-closing * {
  transition: none !important;
}

/* donner au bouton d'effacement ses propres transitions autorisées pour qu'il puisse se transformer indépendamment */
.search-bar #search-clear,
.search-bar #search-clear * { transition: opacity 320ms cubic-bezier(.16,.84,.24,1), transform 320ms cubic-bezier(.16,.84,.24,1) !important; }

/* Accessibilité : respecter la préférence de mouvement réduit */
@media (prefers-reduced-motion: reduce) {
  .search-bar.search-opening,
  .search-bar.search-closing,
  #search-clear .search-clear__cross,
  #search-clear .search-clear__loupe {
    animation: none !important;
    transition: none !important;
  }
  .search-bar { transform: translate3d(0, -50%, 0) scaleX(1) !important; opacity: 1 !important; }
}

/* Style du bouton search-open (petite loupe près du panier) */
#search-open-btn { width: 44px; height: 44px; display: inline-flex; align-items: center; justify-content: center; border-radius: 10px; background: transparent; color: #fff; }
#search-open-btn .icon-search-open { width: 22px; height: 22px; }

:root {
  --search-loupe-duration: 320ms;
  --search-loupe-ease: cubic-bezier(.16,.84,.24,1);
}

/* Animations de loupe — pilotées par keyframes pour mieux se synchroniser avec la barre */
#search-open-btn {
  animation-duration: var(--search-loupe-duration);
  animation-timing-function: var(--search-loupe-ease);
  animation-fill-mode: both;
  pointer-events: auto;
}

/* loupe-out : réduction + fondu quand la barre s'ouvre */
@keyframes loupe-out {
  0% { opacity: 1; transform: scale(1) translateZ(0); }
  60% { opacity: 0.35; transform: scale(0.9) translateZ(0); }
  100% { opacity: 0; transform: scale(0.78) translateZ(0); }
}

/* loupe-in : pop subtil quand la barre se ferme */
@keyframes loupe-in {
  0% { opacity: 0; transform: scale(0.78) translateZ(0); }
  60% { opacity: 0.9; transform: scale(1.04) translateZ(0); }
  100% { opacity: 1; transform: scale(1) translateZ(0); }
}

/* Déclencher loupe-out quand la barre de recherche en ligne devient visible */
.icons .search-bar:not(.hidden) ~ #search-open-btn { animation-name: loupe-out; pointer-events: none; }

/* Quand pas supprimée, s'assurer que la loupe est visible (jouer loupe-in à l'arrivée) */
.icons .search-bar.hidden ~ #search-open-btn { animation-name: loupe-in; }

@media (max-width: 700px) {
  /* Sur les écrans étroits, cacher la recherche en ligne et revenir au comportement de superposition d'en-tête */
  .icons .search-bar { display: none; }
  header > #search-overlay { display: block; }
}

/* Quand la superposition de recherche est placée à l'intérieur des icônes de l'en-tête, la garder en ligne à droite
   du bouton loupe pour que la loupe reste visuellement à gauche. Cela annule les
   règles de superposition fixe globales utilisées ailleurs. */
/* préparer l'en-tête pour les enfants positionnés en absolu */

/* prepare header for absolute-positioned children */
header { position: sticky; }

/* Quand la recherche d'en-tête est active, afficher la barre de recherche dans l'en-tête à côté du panier */
/* Garder le logo et les icônes visibles ; positionner la barre de recherche à droite à côté des icônes */

/* Par défaut : recherche masquée (dans les icônes), sera affichée en ligne quand header.search-open */
/* Superposition en ligne/absolue utilisée dans l'en-tête (positionnée absolument pour éviter de pousser les icônes) */
/* Par défaut : superposition au niveau de l'en-tête positionnée absolument sous l'en-tête (à droite des icônes) ; JS peut remplacer .style.right pour correspondre au bord du panier */
#search-overlay { position: absolute; top: 100%; right: auto; left: auto; display: inline-block; visibility: hidden; opacity: 0; transition: opacity 180ms ease, visibility 180ms; transform-origin: left center; }
#search-overlay[aria-hidden="false"] { visibility: visible; opacity: 1; }

/* Sur les petits écrans, forcer la superposition à être pleine largeur sous l'en-tête */
@media (max-width: 700px) {
  header > #search-overlay { position: absolute; left: 12px; right: 12px; top: 100%; width: auto; }
}

/* quand la recherche est active, s'assurer que la superposition est visible et dimensionnée pour s'asseoir à côté du panier */
header.search-open #search-overlay { display: inline-block; width: 420px; margin-right: 8px; transform: translateY(6px); right: auto; left: auto; }

/* animation de révélation : mise à l'échelle depuis le bord gauche (près de la loupe) */
.search-reveal {
  transform-origin: left center;
  animation: search-expand 300ms cubic-bezier(.2,.9,.2,1) forwards;
}

@keyframes search-expand {
  0% { transform: scaleX(0.02) translateY(6px); opacity: 0; }
  60% { transform: scaleX(1.02) translateY(4px); opacity: 1; }
  100% { transform: scaleX(1) translateY(6px); opacity: 1; }
}

/* animation subtile de la loupe lors de l'ouverture */
.search-btn-animate { transform: scale(1.06); transition: transform 240ms cubic-bezier(.2,.9,.2,1); }

/* restyler la barre de recherche pour correspondre au DA du site (en-tête sombre, accents pastel) */
.search-bar { position: relative; max-width: none; width: 100%; background: #141414; color: #fff; padding: 8px 12px; border-radius: 10px; display:flex; align-items:center; border: 1px solid rgba(255,215,230,0.06); box-shadow: 0 8px 24px rgba(0,0,0,0.45); }
.search-bar .icon-search { margin-right: 10px; color: #ffd7e6; width: 22px; height: 22px; }

/* responsive : rétrécir la barre de recherche sur les écrans étroits et la placer au-dessus des icônes si nécessaire */
@media (max-width: 700px) {
  header.search-open #search-overlay { right: 16px; left: 16px; width: auto; top: 100%; }
}

/* Boutons d'icônes dans l'en-tête (panier/profil) */
.icon-btn {
  background: transparent;
  border: none;
  color: #fff; /* la couleur de l'icône hérite de ceci (SVG utilise currentColor) */
  /* correspondre à la taille du bouton .menu pour la cohérence visuelle */
  width: 44px;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  cursor: pointer;
  padding: 0; /* utiliser une taille fixe plutôt que du padding */
  font-size: 22px; /* faire correspondre la taille de l'emoji/icône du panier au menu */
}
.icon-btn:focus { outline: none; box-shadow: 0 6px 20px rgba(0,0,0,0.36); }
.icon-profile, .icon-cart { display: block; width: 22px; height: 22px; color: #fff; }

/* rendre la loupe de l'en-tête un peu plus grande et plus facile à toucher */
.search-btn .icon-search { width: 22px; height: 22px; }

/* S'assurer que toute icône de recherche dans le conteneur des icônes de l'en-tête correspond à la taille du panier */
.icons .icon-search { width: 22px; height: 22px; }

/* Si vous voulez un PNG/SVG rempli purement blanc utilisé via <img>, utiliser filter comme solution de repli */
.icons img { filter: brightness(0) invert(1); }

/* Superposition et barre de recherche */
.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }
#search-overlay { display: inline-block; visibility: hidden; opacity: 0; transition: opacity 180ms ease, visibility 180ms; }
#search-overlay[aria-hidden="false"] { visibility: visible; opacity: 1; }

/* Variante de superposition plein écran/fixe (seulement quand placée comme enfant direct de body) */
body > #search-overlay {
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  display: none; /* toggled by JS */
  justify-content: center;
  align-items: flex-start;
  padding: 18px 20px;
  z-index: 9999;
  pointer-events: none;
}
body > #search-overlay[aria-hidden="false"] { display:flex; pointer-events: auto; }
.search-bar {
  width: 100%;
  max-width: 920px;
  background: #141414; /* use opaque background for overlay search */
  color: #fff;
  border-radius: 10px;
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 8px 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}
.search-bar input[type="search"] {
  flex: 1 1 auto;
  border: none;
  padding: 8px 10px;
  font-size: 15px;
  border-radius: 6px;
  outline: none;
  background: transparent;
  color: #fff;
}
.search-bar input::placeholder { color: rgba(255,255,255,0.6); }
.search-bar .icon-btn { background: transparent; border: none; color: #fff; width: 40px; height: 40px; }

/* petite modification : empêcher la barre de recherche de chevaucher l'en-tête sur les écrans étroits */
@media (max-width: 700px) {
  .search-bar { margin-top: 60px; }
}

/* Section Hero (bannière) */
.hero {
  background: #3a3a3a;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 50px 60px;
}

/* ombre subtile pleine largeur sous la section hero */
.hero { position: relative; }
.hero::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -6px; /* se place juste sous le hero */
  height: 18px;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.32) 0%, rgba(0,0,0,0.12) 50%, rgba(0,0,0,0) 100%);
  filter: blur(6px);
  z-index: 10;
}

@media (max-width: 900px) {
  .hero::after { bottom: -4px; height: 12px; filter: blur(4px); }
}

/* Texte */
.hero h1 {
  /* Plus grand et légèrement décalé vers la droite ; réactif avec clamp */
  font-size: clamp(48px, 8vw, 80px);
  font-weight: 800;
  line-height: 1.05;
  color: white;
  margin-left: 30px; /* décale vers la droite */
  font-family: 'Poppins', sans-serif;
}

/* Subtitle japonais placé sous le mot COLLECTION et limité à sa largeur */
.hero-title { position: relative; display: inline-block; }
.hero-subtitle {
  display: block;
  font-size: clamp(14px, 1.6vw, 18px);
  font-weight: 500;
  /* le sous-titre sera positionné absolument sous le mot */
  position: absolute;
  top: calc(100% + 6px);
  color: rgba(255,255,255,0.9);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  /* largeur et gauche seront définies par JS pour correspondre et centrer sous le mot principal */
  transition: width 140ms ease, left 140ms ease;
}

.hero-top-word,
.hero-main-word {
  display: block; /* each word on its own line */
  text-align: center;
  width: 100%;
}

/* Resserrer encore plus l'espace vertical entre NOUVELLE et COLLECTION */
.hero-title { line-height: 0.7; }
.hero-top-word { margin-bottom: -6px; }

/* S'assurer que le parent inline-block se centre dans la section hero */
.hero-title { margin-left: 5px; }
.hero { justify-content: space-between; }
.hero-title { display: inline-block; }

.hero-subtitle-inner {
  display: inline-block; /* largeur mesurable */
  transform-origin: left center; /* mise à l'échelle depuis la gauche pour un positionnement prévisible */
  display: inline-block;
  font-family: 'Noto Sans JP', 'Poppins', sans-serif;
  font-weight: 500;
}

@media (max-width: 700px) {
  .hero-subtitle-inner { transform: none !important; }
}

/* Ajustements réactifs pour petits écrans */
@media (max-width: 700px) {
  .hero {
    flex-direction: column;
    padding: 30px 20px;
    gap: 20px;
    align-items: flex-start;
  }

  .hero h1 {
    font-size: 36px;
    margin-left: 0;
    text-align: left;
  }

  .hero-subtitle { transform: translateX(0); white-space: normal; }

  .hero-images {
    margin-left: 0;
    width: 100%;
    height: auto;
  }

    /* quand étroit, faire couler le sous-titre avec le texte au lieu du positionnement absolu */
    .hero-subtitle { position: static; width: auto; left: auto; }
}

/* Bloc images */
.hero-images {
  position: relative;
  width: 550px;
  height: 350px;
  margin-left: 40px;
}

.hero-images img:not(.fond) {
  border-radius: 10px;
  /* Supprimer bord/ombre pour que la transparence PNG s'affiche proprement */
  box-shadow: none;
  border: none;
  background: transparent;
  display: block;
  width: 100%;
  height: auto;
}

/* Enveloppes d'ancres autour des images positionnées : les ancres utilisent un positionnement absolu pour être cliquables */
.coque-link {
  position: absolute;
  display: block;
  text-decoration: none;
  width: auto;
  height: auto;
}

/* S'assurer que les ancres sont au-dessus des éléments d'arrière-plan pour que les clics les atteignent */
.coque-link { z-index: 20; }

.coque-link {
  pointer-events: auto; /* l'ancre accepte les clics */
}

.coque-link img {
  pointer-events: none; /* les clics sont transmis à l'enveloppe d'ancre */
  display: block;
  width: 100%;
  height: auto;
}

.coque-link:hover {
  cursor: pointer;
}

/* Image rose/bleu derrière */
.fond {
  /* Forme d'arrière-plan agrandie derrière les coques */
  position: absolute; /* permet à top/left d'être pris en compte */
  /* Réduit pour mieux correspondre au rectangle gris du hero */
  width: 672px;
  max-width: none;
  top: -50px;
  left: -62px;
  z-index: 0;
}

@media (max-width: 900px) {
  .fond {
    width: 560px;
    top: -40px;
    left: -60px;
  }
}

@media (max-width: 480px) {
  .fond {
    width: 360px;
    top: -30px;
    left: -20px;
  }
}

/* Coque vague (milieu) */
.coque-vague-link,
.coque-vague {
  width: 330px;
  top: -85px;
  left: -210px;
  transform: rotate(12deg);
  z-index: 190; /* au-dessus du header (z-index:180), en dessous de l'overlay (200) */
}

/* Animation flottante pour les coques */
@keyframes float-slow {
  0% { transform: translateY(0px) rotate(12deg); }
  50% { transform: translateY(-8px) rotate(13deg); }
  100% { transform: translateY(0px) rotate(12deg); }
}

.coque-vague-link, .coque-vague {
  animation: float-slow 12s ease-in-out infinite;
  animation-delay: 0.4s;
}

/* Quand on scroll, ramener la coque derrière le header */
body.scrolled .coque-vague-link,
body.scrolled .coque-vague {
  z-index: 10; /* assez bas pour être derrière le header */
}

/* Coque Neko (devant) */
.coque-neko-link,
.coque-neko {
  width: 270px;
  top: -50px;
  left: -350px;
  transform: rotate(-10deg);
  z-index: 195; /* placé au-dessus de .coque-vague (190) */
}

@keyframes float-fast {
  0% { transform: translateY(0px) rotate(-10deg); }
  50% { transform: translateY(-6px) rotate(-11deg); }
  100% { transform: translateY(0px) rotate(-10deg); }
}

.coque-neko-link, .coque-neko {
  animation: float-fast 9.6s ease-in-out infinite;
  animation-delay: 1.2s;
}

/* Respecter la préférence utilisateur pour le mouvement réduit */
@media (prefers-reduced-motion: reduce) {
  .coque-vague-link, .coque-vague, .coque-neko-link, .coque-neko {
    animation: none !important;
  }
}

/* Veiller à ce que les enveloppes d'ancres soient au-dessus des éléments d'arrière-plan */
.coque-vague-link { z-index: 190; }
.coque-neko-link { z-index: 195; }

/* Quand on scroll, ramener la coque Neko derrière le header */
body.scrolled .coque-neko,
body.scrolled .coque-neko-link {
  z-index: 10; /* assez bas pour être derrière le header (z-index:180) */
}

/* Filtres */
.filters {
  display: flex;
  gap: 16px; /* more space between controls */
  align-items: center;
  justify-content: flex-start;
  padding: 14px 22px; /* larger hit area */
  z-index: 10;
}

/* --- Styles de pied de page (correspondant au design attaché) --- */
.site-footer {
  background: #f4f4f4;
  color: #1d1d1d;
  margin-top: 36px;
  border-top: 1px solid rgba(0,0,0,0.06);
  font-size: 15px;
}
.site-footer .footer-top { padding: 18px 40px; }
.footer-advantages { display:flex; gap:30px; justify-content: space-between; max-width:1100px; margin:0 auto; align-items:center; }
.footer-advantages .adv { display:flex; gap:12px; align-items:center; color:#111; }
.footer-advantages .adv-ico {
  font-size: 20px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 24px;
  line-height: 1;
  text-align: center;
}
/* Pousser légèrement vers le haut le pictogramme de carte de crédit (3ème avantage) pour l'aligner avec l'épingle */
.footer-advantages .adv:nth-child(3) .adv-ico { transform: translateY(-4px); }
@media (max-width:520px) { .footer-advantages .adv:nth-child(3) .adv-ico { transform: none; } }
.footer-main { display:flex; gap:40px; padding:36px 40px; max-width:1100px; margin:0 auto; align-items:flex-start; }
.footer-col { flex:1; }
.footer-col h4 { font-size:14px; font-weight:700; margin-bottom:16px; color:#111; }
.footer-col ul { list-style:none; }
.footer-col ul li { padding:8px 0; color:#333; }
.footer-col ul li a.footer-link {
  color: inherit;
  text-decoration: none;
  display: inline-block; /* rétrécir à la largeur du texte */
  position: relative;
  padding-bottom: 2px; /* espace pour le soulignement */
}
.footer-col ul li a.footer-link::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  height: 3px; /* épaisseur de la barre */
  width: 100%;
  background: #000; /* couleur du soulignement */
  transform-origin: left center;
  transform: scaleX(0);
  transition: transform 220ms cubic-bezier(.2,.9,.2,1);
  opacity: 0.9;
}
.footer-col ul li a.footer-link:hover::after,
.footer-col ul li a.footer-link:focus::after {
  transform: scaleX(1);
}
.footer-col ul li a.footer-link:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0,0,0,0.06);
}
.footer-art { flex:0 0 260px; display:flex; align-items:center; justify-content:center; }
.footer-art-emoji { font-size:110px; color:#111; opacity:0.95; }
.footer-bottom { display:flex; justify-content:space-between; align-items:center; padding:18px 40px; border-top:1px solid rgba(0,0,0,0.04); max-width:1100px; margin:0 auto; }
.footer-bottom .payments img {
  height: 26px;
  width: auto;
  display: inline-block;
  vertical-align: middle;
  margin-right: 10px;
  object-fit: contain;
}
/* Ajuster Mastercard pour qu'il corresponde visuellement au logo Apple Pay (généralement plus carré) */
.footer-bottom .payments img[alt="mastercard"] {
  height: 30px;
  transform: none;
}
.footer-bottom .copyright { color:#666; font-size:13px; }

@media (max-width:900px) {
  .footer-main { flex-direction:column; align-items:flex-start; }
  .footer-art { order: -1; margin-bottom:12px; }
  .footer-advantages { gap:12px; padding:12px; }
}

/* S'assurer que la zone de filtres est visible au-dessus des images hero */
.filters {
  position: relative;
  visibility: visible !important;
  opacity: 1 !important;
  z-index: 260; /* au-dessus des coques hero et de la superposition */
}

/* Quand on fait défiler, déplacer les filtres derrière l'en-tête collant (en-tête z-index:180) */
body.scrolled .filters {
  z-index: 170; /* derrière l'en-tête */
  transition: z-index 160ms ease, opacity 160ms ease;
}

.filters .dropbtn {
  background: rgba(0,0,0,0.28);
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff;
  padding: 10px 14px; /* bouton plus grand */
  border-radius: 10px;
  font-size: 15px; /* étiquette légèrement plus grande */
  font-weight: 700;
}

.side-menu {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: 320px;
  max-width: 85vw;
  background: #3a3a3a; /* utiliser la couleur d'arrière-plan du site */
  color: white;
  padding: 20px;
  box-sizing: border-box;
  /* Masqué par défaut (complètement hors canevas) */
  transform: translateX(-100%);
  transition: transform 220ms ease;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  overflow-y: auto;
  z-index: 210; /* s'asseoir au-dessus de la superposition (superposition z-index:200) */
}

.side-menu .close-menu {
  background: transparent;
  border: none;
  color: white;
  font-size: 20px;
  margin-bottom: 10px;
}

/* Style du bouton de fermeture : statique (animations supprimées à la demande de l'utilisateur) */
.side-menu .close-menu {
  background: transparent;
  border: none;
  color: white;
  font-size: 20px;
  margin-bottom: 10px;
  position: relative;
  z-index: 120; /* s'assurer d'être au-dessus des panneaux */
}

/* Assurer que la croix est cliquable et reste au-dessus des panels */
.side-menu .close-menu {
  position: relative;
  z-index: 120; /* au-dessus des panels (panel z-index:30) */
  pointer-events: auto;
  cursor: pointer;
}

.side-menu ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.side-menu li {
  margin: 10px 0; /* plus d'espace de respiration vertical */
}

.side-menu a {
  display: block;
  padding: 14px 16px; /* cible de toucher plus grande */
  color: #f5f5f7;
  text-decoration: none;
  border-radius: 10px;
  transition: background 150ms ease, transform 120ms ease;
  font-weight: 700;
  font-size: 16px; /* augmenter la lisibilité */
}

.side-menu a:hover,
.side-menu a:focus {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  transform: translateX(4px);
  outline: none;
}

.side-menu a::before {
  content: '';
  display: inline-block;
  width: 10px; /* indicateur légèrement plus grand */
  height: 10px;
  background: rgba(255,255,255,0.08);
  border-radius: 50%;
  margin-right: 12px;
  vertical-align: middle;
  transition: background 150ms ease, transform 150ms ease;
}

/* Panneau de sous-menu (Boutique) */
.side-panel {
  position: absolute;
  top: 0;
  left: 0; /* placé au même endroit que le menu principal */
  width: 100%;
  height: 100%;
  background: transparent; /* hérite du fond via la side-menu parent */
  padding: 20px;
  box-sizing: border-box;
  /* caché à droite : on déplace de 100% de sa propre largeur
     et on fait apparaître avec translateX(0) pour un effet de slide */
  transform: translateX(100%);
  opacity: 0;
  visibility: hidden;
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease, visibility 180ms;
  z-index: 30;
}

.side-panel.open {
  transform: translateX(0);
  opacity: 1;
  visibility: visible;
}

/* Sous-menu à l'intérieur du panneau boutique */
.panel-submenu {
  display: none;
  margin: 8px 0 0 6px;
  padding-left: 8px;
  border-left: 1px solid rgba(255,255,255,0.06);
}
.panel-submenu[aria-hidden="false"] {
  display: block;
}
.panel-submenu .submenu-item {
  background: transparent;
  border: none;
  color: #f5f5f7;
  padding: 8px 12px;
  text-align: left;
  width: 100%;
  cursor: pointer;
  font-weight: 600;
}
.panel-submenu .submenu-item:focus {
  outline: 2px solid rgba(255,255,255,0.12);
}

/* Quand un panel est ouvert, masquer le menu principal et le footer pour afficher uniquement le panel */
.side-menu.panel-open .menu-main,
.side-menu.panel-open .menu-footer {
  display: none;
}

.panel-back {
  background: transparent;
  border: none;
  color: #f5f5f7; /* couleur du texte du menu */
  font-size: 18px; /* légèrement plus grand pour correspondre aux éléments de menu plus grands */
  font-weight: 800; /* poids plus fort comme les liens du menu */
  font-family: inherit;
  padding: 10px 8px;
  margin-bottom: 10px;
  text-align: left;
  display: inline-block;
  border-radius: 6px;
  cursor: pointer;
  transition: background 120ms ease, transform 120ms ease;
}

/* masquer la croix de fermeture lorsque l'on affiche un panel distinct */
.side-menu.panel-open .close-menu {
  display: none;
}

.side-panel h3 {
  margin: 6px 0 12px;
  color: #f5f5f7;
}

.contact-info {
  color: #f5f5f7;
  font-size: 15px;
  line-height: 1.5;
}
.contact-info p { margin: 8px 0; }
.contact-form { margin-top: 12px; display: flex; flex-direction: column; gap: 8px; }
.contact-form textarea { width: 100%; padding: 8px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.4); color: #fff; }
.contact-form button { align-self: flex-start; padding: 8px 12px; border-radius: 8px; background: rgba(255,215,230,0.06); color: #ffd7e6; border: none; cursor: pointer; font-weight: 700; }

.side-panel ul { padding: 0; margin: 0; list-style: none; }
.side-panel li { margin: 8px 0; }
.panel-link { color: #f5f5f7; text-decoration: none; font-weight: 600; display:block; padding:8px 6px; border-radius:6px }
.panel-link:hover { background: rgba(255,255,255,0.03); transform: translateX(4px); }

.side-menu a:hover::before,
.side-menu a:focus::before {
  background: #ffd7e6; /* accent pastel subtil */
  transform: translateX(3px);
}

/* Quand le menu est ouvert : afficher la superposition et flouter le contenu de la page */
/* Superposition par défaut : masquée et non interactive */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  visibility: hidden;
  opacity: 0;
  transition: opacity 200ms ease, visibility 200ms ease;
  z-index: 200;
  pointer-events: none; /* ne pas bloquer les clics quand masquée */
}

/* Quand le menu est ouvert : afficher la superposition et la rendre interactive */
body.menu-open .overlay {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}

/* Quand le panier est ouvert : afficher la superposition et la rendre interactive (classe séparée pour que le menu ne soit pas déclenché) */
body.cart-open .overlay {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}

body.menu-open .side-menu {
  transform: translateX(0);
}

/* Garder le menu latéral masqué quand le panier est ouvert (empêcher l'ouverture simultanée) */
body.cart-open .side-menu { transform: translateX(100%); pointer-events: none !important; visibility: hidden !important; }

/* Menu panier (glisse depuis la droite) */
.cart-menu {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 360px;
  max-width: 92vw;
  background: #2b2b2b;
  color: #fff;
  transform: translateX(100%);
  transition: transform 260ms cubic-bezier(.2,.9,.2,1);
  z-index: 210; /* au-dessus de la superposition */
  box-shadow: -8px 0 30px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column;
  padding: 18px;
}
.cart-menu[aria-hidden="false"] { transform: translateX(0); }
.cart-menu .close-cart {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 20px;
  align-self: flex-end;
  cursor: pointer;
}
.cart-main { overflow-y: auto; flex: 1 1 auto; padding-top: 6px; }
.cart-items { list-style: none; padding: 0; margin: 8px 0 12px; display: flex; flex-direction: column; gap: 12px; }
.cart-empty { color: rgba(255,255,255,0.6); }
.cart-actions { display:flex; gap:8px; justify-content: space-between; }
.cart-checkout, .cart-view { background: #ffd7e6; color: #1d1d1d; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 700; }

/* Flouter le contenu de la page derrière la superposition */
.page-content {
  transition: filter 200ms ease;
}

body.menu-open .page-content {
  filter: blur(6px) saturate(0.9);
  pointer-events: none; /* éviter l'interaction quand le menu est ouvert */
}

body.cart-open .page-content {
  filter: blur(6px) saturate(0.9);
  pointer-events: none;
}

/* Empêcher la page d'être défilable horizontalement ou déplaçable quand le menu est ouvert */
body.menu-open {
  overflow: hidden; /* verrouiller le défilement d'arrière-plan */
  overscroll-behavior: none; /* éviter l'enchaînement de défilement */
}

body.cart-open {
  overflow: hidden; /* verrouiller le défilement d'arrière-plan quand le panier est ouvert */
  overscroll-behavior: none;
}

/* S'assurer que le menu latéral lui-même défile verticalement mais pas horizontalement */
.side-menu {
  touch-action: pan-y; /* permettre seulement le panoramique vertical */
  -webkit-overflow-scrolling: touch;
  overflow-x: hidden;
}

/* Bas du menu: information de livraison et lien d'aide */
.menu-footer {
  margin-top: 18px;
  padding-top: 12px;
  border-top: 1px solid rgba(255,255,255,0.08); /* couleur plus claire */
  position: absolute;
  left: 0;
  right: 0;
  bottom: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-left: 20px;
  padding-right: 20px;
}

.delivery-country {
  font-size: 13px;
  color: rgba(255,255,255,0.85);
}

.menu-footer .help-link {
  font-size: 14px;
  color: #ffd7e6;
  text-decoration: none;
  font-weight: 700;
}

.menu-footer .delivery-country {
  display: block;
  margin-bottom: 8px;
  color: rgba(255,255,255,0.9);
  font-weight: 600;
}

/* Faire correspondre l'étiquette de langue à l'étiquette de livraison (même taille/poids) */
.menu-footer .language-selector .lang-label {
  font-size: 13px;
  color: rgba(255,255,255,0.9);
  font-weight: 600;
  margin-right: 8px;
  display: inline-block;
}

.menu-footer #country-select {
  display: inline-block;
  margin-left: 6px;
  padding: 6px 8px;
  background: #2b2b2b;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 6px;
}

/* Menu déroulant de pays stylé pour correspondre au DA du site */
.country-dropdown {
  display: inline-block;
  position: relative;
}

.country-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 10px;
  border-radius: 12px;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease;
}

.country-btn:focus {
  outline: none;
  box-shadow: 0 8px 30px rgba(0,0,0,0.35), 0 0 0 6px rgba(255,215,230,0.04);
}

.country-flag { font-size: 18px; }
.country-caret { opacity: 0.9; font-size: 13px; }

.country-list {
  position: absolute;
  left: 0;
  bottom: calc(100% + 8px); /* ouvrir vers le haut par défaut */
  background: #222;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 6px;
  border-radius: 10px;
  min-width: 180px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.45);
  transform-origin: top center;
  transform: translateY(-6px) scale(0.98);
  transform-origin: bottom center;
  transform: translateY(6px) scale(0.98);
  opacity: 0;
  visibility: hidden;
  transition: transform 200ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease, visibility 180ms;
  z-index: 80;
  display: none; /* basculé par JS */
}

.country-list.open {
  transform: translateY(0) scale(1);
  opacity: 1;
  visibility: visible;
}
.country-dropdown[data-expanded="true"] .country-caret { transform: rotate(180deg); }

.country-option {
  display: block;
  width: 100%;
  background: transparent;
  border: none;
  color: #fff;
  padding: 8px 10px;
  text-align: left;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

.country-option:hover,
.country-option:focus {
  background: rgba(255,215,230,0.04);
  outline: none;
}

/* petite modification responsive pour les écrans étroits à l'intérieur du menu */
@media (max-width: 420px) {
  .country-btn { width: 100%; justify-content: space-between; }
  /* Sur les très petits écrans, ouvrir vers le bas pour éviter le découpage en haut */
  .country-list { left: 10px; bottom: auto; top: calc(100% + 8px); transform-origin: top center; transform: translateY(-6px) scale(0.98); }
}

/* Bouton bascule audio dans le pied de menu */
.audio-toggle {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  color: #f5f5f7;
  padding: 8px 10px;
  border-radius: 8px;
  font-weight: 700;
  margin-bottom: 10px;
  cursor: pointer;
}
.audio-toggle[aria-pressed="true"] {
  background: rgba(255,215,230,0.06);
}

.audio-controls {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 10px;
}

.audio-volume { color: rgba(255,255,255,0.85); font-size: 13px; display: flex; align-items: center; gap: 8px; }
.audio-volume-range { width: 100%; }
.audio-volume-range::-webkit-slider-thumb { background: #ffd7e6; border-radius: 50%; }
.audio-volume-range::-moz-range-thumb { background: #ffd7e6; border-radius: 50%; }

/* Coins arrondis et animation de clic subtile pour les contrôles */
.audio-toggle {
  border-radius: 12px; /* plus arrondi */
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
  will-change: transform;
}

#country-select {
  border-radius: 10px;
  transition: transform 160ms ease, box-shadow 160ms ease;
  will-change: transform;
}

.click-anim {
  transform: translateY(1px) scale(0.97);
  box-shadow: 0 8px 24px rgba(0,0,0,0.28);
}

.menu-footer .help-link:hover,
.menu-footer .help-link:focus {
  text-decoration: underline;
}

/* S'assurer que la superposition n'affecte pas trop agressivement la mise en page de bureau */
@media (min-width: 900px) {
  .side-menu { width: 320px; }
}

/* CTA musique supprimé à la demande de l'utilisateur */

/* Styles déroulants pour les filtres/tri */
.dropdown {
  position: relative;
}

.dropbtn {
  background: transparent;
  color: white;
  border: 1px solid rgba(255,255,255,0.12);
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

.dropbtn:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(255,255,255,0.04);
}

.dropdown-menu {
  /* masqué par défaut mais animable */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-6px) scale(0.98);
  transition: opacity 180ms ease, transform 180ms ease, visibility 180ms;
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: #222;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 10px 8px; /* padding plus grand */
  border-radius: 10px;
  min-width: 200px; /* pop-up plus grand pour la lisibilité */
  z-index: 50;
}

.dropdown-menu li {
  list-style: none;
}

.dropdown-menu button {
  background: transparent;
  color: white;
  border: none;
  text-align: left;
  padding: 10px 12px; /* cible de toucher plus grande */
  width: 100%;
  cursor: pointer;
  font-size: 15px;
  font-weight: 700;
}

.dropdown-menu button:hover {
  background: rgba(255,255,255,0.03);
}

/* Classe utilitaire pour afficher le menu */
.dropdown.open .dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Animation subtile du bouton à l'ouverture */
.dropdown.open .dropbtn {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.28);
  transition: transform 180ms ease, box-shadow 180ms ease;
}

/* Faire en sorte que la deuxième liste déroulante (Trier) s'ouvre vers la gauche au lieu de déborder vers la droite */
.filters .dropdown:last-child .dropdown-menu {
  left: auto;
  right: 0;
}

/* Produits */
.product-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 40px; /* plus d'espace de respiration pour les cartes plus grandes */
  padding: 40px 56px 72px; /* padding extérieur augmenté */
  /* Centrer la grille et limiter sa largeur maximale pour que les produits apparaissent centrés sur les grands écrans */
  max-width: 1180px;
  margin-left: auto;
  margin-right: auto;
  align-items: start; /* s'assurer que les éléments de grille ne s'étirent pas et ne se chevauchent pas */
  grid-auto-rows: auto; /* laisser les lignes se dimensionner au contenu */
}

/* Styles des flèches de carrousel (ajoutés pour supporter le changement d'images par produit) */
.product { position: relative; }
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(29,29,29,0.9);
  color: #fff;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,0.28);
  z-index: 30;
  transition: transform 260ms cubic-bezier(.2,.9,.2,1), opacity 260ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms cubic-bezier(.2,.9,.2,1);
  will-change: transform, opacity;
}
.carousel-left { left: 10px; }
.carousel-right { right: 10px; }

/* visible par défaut au survol/focus-within ou persistant sur les appareils tactiles */
.product:hover .carousel-arrow,
.product:focus-within .carousel-arrow { opacity: 1; }
/* Si une flèche est désactivée (première/dernière image), la garder estompée même au survol du produit */
.product:hover .carousel-arrow[aria-disabled="true"],
.product:focus-within .carousel-arrow[aria-disabled="true"] {
  opacity: 0.28;
  pointer-events: none;
}
@media (hover: none) { .carousel-arrow { opacity: 1; } }

/* estomper la flèche quand elle est désactivée (début/fin de séquence) */
.carousel-arrow[aria-disabled="true"],
.carousel-arrow:disabled {
  opacity: 0.28;
  pointer-events: none;
}

/* Animation d'agrandissement/pop pour les flèches au survol, actif et focus-visible */
.carousel-arrow:hover,
.carousel-arrow:active,
.carousel-arrow:focus-visible {
  opacity: 1;
  box-shadow: 0 12px 36px rgba(0,0,0,0.42);
  transform: translateY(-50%) scale(1.08);
}


.product {
  display: block; /* l'ancre se comporte comme une carte */
  background: #fff;
  color: black;
  border-radius: 15px;
  overflow: hidden;
  text-align: center;
  box-shadow: 0 6px 20px rgba(0,0,0,0.18);
  padding-bottom: 18px; /* légèrement plus d'espace de respiration */
  text-decoration: none; /* supprimer le soulignement */
  /* s'assurer que les cartes ne s'étirent pas trop et sont centrées dans leur cellule de grille */
  max-width: none;
  margin: 0; /* la grille gère l'espacement */
  align-self: start; /* aligner au haut de la cellule de grille */
}

/* Piste d'image pour la transition de glissement à l'intérieur des cartes produit */
.image-wrap { position: relative; overflow: hidden; }
.image-track { display: flex; transition: transform 260ms cubic-bezier(.2,.9,.2,1); width: 100%; }
.image-track img { width: 100%; flex: 0 0 100%; display: block; }

/* N'appliquer le dimensionnement que pour produit7 et produit8 (garder les autres tailles de produit inchangées) */
.product[href$="produit7.html"] img,
.product[href$="produit8.html"] img {
  height: 260px; /* correspondre à la hauteur visuelle utilisée par les produits 1 et 2 */
  width: 100%;
  object-fit: cover;
  display: block;
}



/* Augmenter légèrement l'espacement interne des descriptions de produit */
.product p { padding: 16px 14px; }

@media (max-width: 700px) {
  .product-grid { gap: 24px; padding: 24px; }
  .product { max-width: 100%; padding-bottom: 12px; }
}

.product img {
  width: 100%;
  border-bottom: none; /* supprimer la ligne de séparation blanche */
  display: block;
  height: auto;
  background: transparent; /* éviter tout arrière-plan blanc visible derrière l'image */
}

.product p {
  padding: 12px;
  font-size: 16px;
  font-weight: 700;
  color: inherit;
}

/* Carte produit : présentation de référence (grande image, prix, CTA, tailles) */
.product {
  display: block;
  background: #fff;
  border-radius: 4px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}
.product img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
}
.product .product-body {
  padding: 20px 20px 22px;
}
.product .product-title {
  margin: 0 0 10px 0;
  font-size: 18px;
  font-weight: 600;
}
.product .price {
  display: block;
  font-size: 20px;
  font-weight: 800;
  margin-bottom: 12px;
  color: #0a0a0a;
}
.product .cta-choose-size {
  display: block;
  width: 100%;
  background: #0a0a0a;
  color: #fff;
  text-align: center;
  padding: 16px 12px;
  border-radius: 4px;
  border: none;
  font-weight: 900;
  letter-spacing: .8px;
  margin-bottom: 14px;
  cursor: pointer;
  text-transform: uppercase;
  font-size: 14px;
}
.product .size-options {
  display: flex;
  gap: 10px;
  flex-wrap: wrap; /* allow sizes to wrap to next line instead of being cut */
  justify-content: center;
  align-items: center;
}
.product .size-options button{
  min-width: 50px; /* slightly larger to match reference */
  padding: 10px 8px;
  border: 1px solid rgba(0,0,0,0.12);
  background: #fff;
  border-radius: 6px;
  font-weight:700;
  cursor: pointer;
  box-shadow: none;
  text-align: center;
}
.product .size-options button.active{
  background:#0a0a0a;
  color:#fff;
  border-color: #0a0a0a;
}

/* Quand les boutons de taille sont seulement décoratifs, afficher le curseur par défaut et réduire les effets de survol
   pour que les utilisateurs comprennent que seul le CTA est actionnable */
.product .size-options button[tabindex="-1"] {
  cursor: default !important;
  opacity: 0.98;
}
.product .size-options button[tabindex="-1"]:hover {
  transform: none;
}

/* ajuster la zone d'image du produit pour correspondre visuellement à la proportion de référence */
.product img {
  max-height: 520px; /* limiter mais permettre le dimensionnement naturel */
  height: auto;
  object-fit: cover;
  width: 100%;
  background: transparent;
}

/* Normaliser les hauteurs d'images de produit pour que toutes les cartes produit soient cohérentes.
   Utiliser des hauteurs fixes par point d'arrêt (correspond à la stratégie max-height précédente)
   mais forcer la hauteur pour que les images soient recadrées uniformément. */
.product-grid .product img {
  height: 520px;
  object-fit: cover;
  width: 100%;
}
@media (max-width: 1100px) {
  .product-grid .product img { height: 440px; }
}
@media (max-width: 800px) {
  .product-grid .product img { height: 360px; }
}
@media (max-width: 480px) {
  .product-grid .product img { height: 260px; }
}

/* Hauteur d'image responsive pour que le product-body (CTA + tailles) reste visible */
@media (max-width: 1100px) {
  .product img { max-height: 440px; }
}
@media (max-width: 800px) {
  .product img { max-height: 360px; }
  .product .size-options button { min-width: 40px; padding: 7px 6px; }
}
@media (max-width: 480px) {
  .product img { max-height: 260px; }
  .product .size-options { gap: 6px; }
  .product .size-options button { min-width: 36px; padding: 6px 4px; }
}

/* (le style du prix est défini dans le bloc .product .price principal ci-dessus pour correspondre à la référence) */

/* Style épuisé */
.product .sold-out-badge {
  position: absolute;
  top: 12px;
  left: 12px;
  background: rgba(255,255,255,0.92);
  color: #c0392b;
  padding: 6px 8px;
  border-radius: 8px;
  font-weight: 700;
  font-size: 13px;
  z-index: 60;
  box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

/* Styliser les cases à cocher des filtres pour correspondre à l'esthétique du site */
.filters label {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  color: #111;
}

.filter-label-right{
  display:inline-flex;
  align-items:center;
  gap:8px;
  margin:6px 0;
}
.filter-label-right button{
  display:inline-block;
  width:auto;
  text-align:left;
  background:transparent;
  border:none;
  padding:6px 0;
}
.filter-label-right input[type="checkbox"]{
  position:static;
  margin-left:6px;
  width:18px;
  height:18px;
  accent-color: #c0392b;
}
/* nettoyé : règles errantes précédentes supprimées pour que .filter-label-right soit autonome */

.filters input[type="checkbox"] {
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  border-radius: 6px;
  border: 1px solid rgba(0,0,0,0.12);
  box-shadow: 0 2px 6px rgba(0,0,0,0.06) inset;
  background: #fff;
  cursor: pointer;
  /* navigateurs modernes : couleur de la coche */
  accent-color: #c0392b;
}

.filters input[type="checkbox"]:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.product[href$="produit8.html"] {
  /* appliquer la superposition seulement au produit8 */
  position: relative; /* contexte de positionnement pour la superposition */
}

.product[href$="produit8.html"]::before {
  content: '';
  position: absolute;
  inset: 0; /* couvrir toute la carte */
  background: rgba(255,255,255,0.55); /* superposition semi-opaque pour atténuer les visuels */
  pointer-events: none; /* permettre les clics à travers vers la carte */
  z-index: 20; /* sous le badge (qui a un z-index plus élevé) */
}

/* Pas de règle spéciale : les flèches de carrousel restent disponibles sur les produits en rupture de stock */

/* S'assurer que l'en-tête est un contexte de positionnement pour la superposition de recherche. Garder le positionnement
  qui fait que l'en-tête reste visible lors du défilement (sticky). Ne pas remplacer par
  relative ici. */

/* Ajustement final de positionnement : quand la recherche est active, placer la barre de recherche à gauche des icônes */
header.search-open #search-overlay {
  right: 100px; /* déplace la barre de recherche à gauche des icônes ; ajuster si les icônes grandissent */
  left: auto;
  width: 360px;
}

@media (max-width: 900px) {
  header.search-open #search-overlay { width: 280px; right: 90px; top: 100%; }
}

@media (max-width: 480px) {
  header.search-open #search-overlay { left: 12px; right: 12px; width: auto; top: 100%; }
}

.product:hover { transform: translateY(-6px); transition: transform 160ms ease; }

/* Remplacements de sécurité de mise en page pour empêcher les éléments de grille de se chevaucher */
.product-grid > .product {
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important;
  align-self: start !important;
  min-height: 0 !important; /* permettre au débordement interne d'être contenu */
}
.product-grid > .product .image-wrap,
.product-grid > .product > img {
  flex: 0 0 auto !important; /* la zone d'image ne fléchit pas pour réduire les autres lignes */
}
.product-grid > .product .product-body {
  flex: 0 0 auto !important;
}

/* Enveloppe de dernière ligne : utiliser une grille correspondante pour que les éléments gardent le même dimensionnement minmax que la grille principale */
.product-grid .last-row {
  grid-column: 1 / -1; /* s'étendre sur toute la grille */
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 40px; /* même espacement que .product-grid */
  justify-content: center; /* centrer la piste de grille s'il y a de l'espace supplémentaire */
  align-items: start;
  padding: 0 10px 10px;
}

/* Les enfants se comportent comme des éléments de grille normaux et s'étirent comme la grille principale */
.product-grid .last-row .product {
  width: 100%;
  max-width: none;
}

@media (max-width: 700px) {
  .product-grid .last-row { grid-template-columns: 1fr; gap: 24px; }
}

/* S'assurer que les images à l'intérieur des cartes de dernière ligne sont recadrées et centrées comme les autres produits */
.product-grid .last-row .product img {
  width: 100%;
  display: block;
  object-fit: cover !important;
  object-position: center center !important;
  max-height: 520px; /* même que l'image .product principale */
  height: auto;
}

@media (max-width: 1100px) {
  .product-grid .last-row .product img { max-height: 440px; }
}
@media (max-width: 800px) {
  .product-grid .last-row .product img { max-height: 360px; }
}
@media (max-width: 480px) {
  .product-grid .last-row .product img { max-height: 260px; }
}

/* Supprimer la translation au survol pour les fenêtres plus étroites pour éviter le chevauchement temporaire au survol */
@media (max-width: 700px) {
  .product:hover { transform: none; }
}

/* Animation de sortie : quand le pointeur/focus quitte un produit, animer un bref fondu+glissement pour le polish */
.product {
  transition: transform 220ms cubic-bezier(.16,.84,.24,1), box-shadow 220ms ease, opacity 220ms ease;
}

/* Entrée : soulever et légèrement redimensionner (correspond à l'apparence de survol initiale) */
.product.entering {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 18px 40px rgba(0,0,0,0.28);
  opacity: 1;
}

/* Sortie : glisser doucement vers le bas et s'estomper un peu pour signaler la sortie (reflète l'animation d'entrée) */
.product.leaving {
  transform: translateY(10px) scale(0.995);
  opacity: 0.86;
  box-shadow: 0 6px 12px rgba(0,0,0,0.12);
}
.product.leaving .carousel-arrow { opacity: 0; pointer-events: none; }
